# 다중 로그인 템플릿 앱 (v1.2.1)

## 주요 기능
- 네이버, 페이스북, 구글 소셜 로그인
- 전화번호 인증 로그인
- 사용자 프로필 관리 (이름, 프로필 이미지)
- 로그인 기록 관리
- 자동 로그인 및 로그아웃
- 계정 삭제 (30일 보관 정책 적용)


## 추후 변경이나 업데이트해야될것 
  - 계속 교환반품 변경 가능한것, 어떻게 할것인지 고민
  - 배송조회 가능하도록 해야함 (택배번호가 나오면 바로 배송조회 가능)

  - 슬라이드 디자인 추가 해야함, 메인에 슬라이드 추가해야함 


## 버전 히스토리
- **0.0.8**
  - 상품 디테일 페이지 업데이트, 
  - 구매 내역 업데이트,
  - 리뷰 추가 완료 , (사진리뷰 사진업로드 되게 해야함.)
  - 구매목록 - 리뷰 작성버튼 생성, 리뷰 작성할수 있도록 하기 
  - 구매목록 - 장바구니 버튼 오른쪽 으로 버튼 따로 만들기 , 디자인도 변경해야함, 
  - 구매후기쓰기는 상페보기처럼 맨 마지막에 , 구매물품통합으로 
  - 교환 반품, 관련 버그 pic and update
  - 검색어 안되는 문제 해결해야함.
  - 장바구니, 디테일페이지, 배송료 배송시간 관련 해서 추가나타날수 있도록 ui로 표시 
  - 장바구니의 갯수를 변경하면 장바구니 전체가 리로딩 되는것이 아닌, 각개의 상품들만 리로딩될수 있도록 해야함(재고수량확인위함)**
  - 포트원 연동작업 중 (신용카드, 계좌이체, 선택과, 결제동의 선택하게 해야함)


- **0.0.7**
  - 버그 pix

- **0.0.6**
  - 결제 완료에서는 반품신청이 가능해야함, 상품 준비중이나, 배송출발일경우에는 반품 교환불가, 
  - 교환 요청건에서는 반품신청으로 변경가능해야함 
  - 상품디테일 페이지에 연관상품 클릭해서 이동하러가야함, 장바구니도 추가 ,

- **0.0.5**
  - 제품디테일 페이지에서 장바구니로 갈경우, 위에 엡바 사라지는 문제 해결해야함 
  - 제품디테일 페이지에 바로 구매가능하게 구매버튼 추가 
  - 제품디테일 페이지에 찜하기버튼 구현해야함 
  - 카테고리 페이지 리뉴얼 
  - ScrollableAppBar생성 ,(앱바가 위로 스스륵 사라지도록 함, 아래로 내릴경우 리플레시 기능추가)
  - 교환/반품 신청 시스템 완료, 리스트 디테일 페이지 모두 구현완료/(추가해야될것, 계속 교환반품 변경가능한데 이건 추후 변경)

- **0.0.4**
  - 주문완료까지 구현
  - 주문완료시 장바구니에 있는 상품 삭제구현 
  - 장바구니에서 선택하여 상품 구매할수 있도록 해야함 완료 

- **0.0.3**
  - 버전 새롭게 다시생성(git초기화)
  - 프로필 탭생성(배송지관리, 프로필정보변경,)
  - 장바구니 구현
  - 주소록구현 (속도가 좀느린데 이거 추후 확인필요)
  - 주문완료시 데이터 저장될수 있도록 해야함, 
  - 저장된 데이터로 오더히스토리 볼수 있도록 해야함
  - 결제시스템적용 해야함 
  - 
  - 오버플로우 에러일때는 Column이나 Row 대신 Wrap 위젯 

- **v1.0.0 (초기 출시)**
  - 기본 앱 구조 설정
  - Firebase 연결 및 인증 기능 구현
- **v1.1.0**
  - 소셜 로그인 기능 추가 (네이버, 페이스북)
  - 프로필 관리 기능 구현 및 UI 개선
- **v1.2.0**
  - 구글 로그인 추가
  - 전화번호 인증 개선 및 UI/UX 개선
- **v1.2.1 (현재 버전)**
  - 프로필 화면 사용자 정보 불러오기 문제 수정  
    * FirestoreService의 getUser() 메서드 수정  
    * AuthController의 데이터 로드 지연 추가  
  - 로그인 기록 표시 기능 개선
  - 사용자 삭제 기능 개선 및 예외 처리 강화
  - **계정 삭제 시, 프로필 이미지 삭제 대신 삭제 보관함(deleted_profile_images)으로 이동**  
    삭제된 파일은 30일간 보관되며, 별도의 스케줄러(예: Firebase Cloud Functions)를 통해 30일 이후 완전 삭제 예정
  - 다양한 버그 수정 및 인증 프로세스 안정성 향상
  - 계정삭제까지 완료
  - **계정 삭제 후 로그인 버튼에서 무한 로딩중인 현상 해결해야함**

## 사용자 삭제 기능 개선
- **문제점**: 로그인 후 계정 삭제 시, Firebase Storage에서 파일이 없을 경우 발생하는 `object-not-found` 예외 및 기타 삭제 관련 예외들이 발생함.
- **해결 방법**:  
  - 프로필 이미지가 존재하는 경우에만 파일 데이터를 읽어와서, `deleted_profile_images` 폴더로 복사한 후 원본 파일을 삭제합니다.
  - 삭제 보관함에 보관된 파일은 별도의 백그라운드 작업(예: Firebase Cloud Functions)을 통해 30일 후 영구 삭제됩니다.
  - Firestore, Firebase Auth의 삭제 과정에서도 발생하는 예외들을 세분화하여 처리하였습니다.

## 설치 및 설정
1. Flutter 환경 설정  
   ```bash
   flutter pub get


## git 업로드 방법
    ```bash
    rm -rf .git  <완전초기화시사용>

    git init 

    git add .

    git commit -m "버전 1.0.0 추가"

    git branch -m main       <새롭게 할때만 해야함>

    git tag -a v1.0.0 -m "버전 1.0.0 릴리즈"

    그 태그의 이름을 v1.0.0으로 지정하며
    버전 1.0.0 릴리즈"라는 메시지를 함께 저장한다는 의미입니다

    
    git push origin main 기본 브랜치 업데이트

    git push origin --tags 태그들 모두 푸시


## 첫 commit 할때 


해결 방법
1. 먼저 GitHub에서 빈 저장소를 만든 뒤 주소를 복사해주세요.
예시 URL 형태:
   ```bash
    https://github.com/<계정명>/naturebasket_user-main.git

    2. 그 다음 로컬 저장소에서 Remote를 설정합니다.
    git remote add origin https://github.com/park1112/naturebasket_user.git
   
    3. 이제 다시 push 해주세요.
    git push -u origin main
    이 과정 이후에는 다시 에러 없이 push 됩니다.